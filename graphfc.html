
<script src='https://cdnjs.cloudflare.com/ajax/libs/sigma.js/1.2.1/sigma.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/sigma.js/1.2.1/plugins/sigma.plugins.relativeSize.min.js'></script>
<script>
sigmas = {}
;(function(undefined) {

  sigma.canvas.labels.def = function(node, context, settings) {
    var fontSize,
        prefix = settings('prefix') || '',
        size = node[prefix + 'size'],
        labelWidth = 0,
        labelPlacementX,
        labelPlacementY,
        alignment;

    if (size < settings('labelThreshold'))
      return;

    if (typeof node.label !== 'string')
      return;

    if (settings('labelAlignment') === undefined){ 
      alignment = settings('defaultLabelAlignment');
    } else {
      alignment = settings('labelAlignment');
    }

    fontSize = (settings('labelSize') === 'fixed') ?
      settings('defaultLabelSize') :
      settings('labelSizeRatio') * size;

    context.font = (settings('fontStyle') ? settings('fontStyle') + ' ' : '') +
      fontSize + 'px ' + settings('font');
    context.fillStyle = (settings('labelColor') === 'node') ?
      (node.color || settings('defaultNodeColor')) :
      settings('defaultLabelColor');

    labelWidth = context.measureText(node.label).width;
    labelPlacementX = Math.round(node[prefix + 'x'] + size + 3);
    labelPlacementY = Math.round(node[prefix + 'y'] + fontSize / 3);

    switch (alignment) {
      case 'inside':
        if (labelWidth <= size * 2){
          labelPlacementX = Math.round(node[prefix + 'x'] - labelWidth / 2 );
        }
        break;
      case 'center':
        labelPlacementX = Math.round(node[prefix + 'x'] - labelWidth / 2 );
        break;
      case 'left':
        labelPlacementX = Math.round(node[prefix + 'x'] - size - labelWidth - 3 );
        break;
      case 'right':
        labelPlacementX = Math.round(node[prefix + 'x'] + size + 3);
        break;
      case 'top':
        labelPlacementX = Math.round(node[prefix + 'x'] - labelWidth / 2 );
        labelPlacementY = labelPlacementY - size - fontSize;
        break;
      case 'bottom':
        labelPlacementX = Math.round(node[prefix + 'x'] - labelWidth / 2 );
        labelPlacementY = labelPlacementY + size + fontSize;
        break;
      default:
        // Default is aligned 'right'
        labelPlacementX = Math.round(node[prefix + 'x'] + size + 3);
        break;
    }

    context.fillText(
      node.label,
      labelPlacementX,
      labelPlacementY
    );
  };
  
}).call(this)
</script>

<h1 style='font-family:sans-serif;text-align:center'>The largest connected component of the 
 subgraph of reciprocating references of the largest strongly connected component of 
 Francois Laruelle's 'Dictionary of Non-Philosophy' 
 colored in 10 Fluid communities</h1>
<br>
<div id='containerfc' style='height:800px'></div>
<script>
sigmas.fc = new sigma({
  renderer: {
    container: 'containerfc',
    type: 'canvas'
  },
  settings: {
    minArrowSize: 5,
    labelThreshold: 1,
    defaultLabelAlignment: 'bottom'
  }
})

bind1 = S=>{
  let graph = {"directed": false, "multigraph": false, "graph": {}, "nodes": [{"id": "desire"}, {"id": "non-psychoanalysis"}, {"id": "unconscious"}, {"id": "dual"}, {"id": "determination-in-the-last-instance"}, {"id": "non-philosophy"}, {"id": "philosophical decision"}, {"id": "reversibility"}, {"id": "occasion"}, {"id": "philosophy"}, {"id": "relative autonomy"}, {"id": "transcendental"}, {"id": "mixture"}, {"id": "definition"}, {"id": "force (of) thought"}, {"id": "reflection"}, {"id": "thought"}, {"id": "world"}, {"id": "real"}, {"id": "radical immanence"}, {"id": "break"}, {"id": "science"}, {"id": "given-without-givenness"}, {"id": "distance"}, {"id": "human"}, {"id": "multiple"}, {"id": "Other"}, {"id": "universality"}, {"id": "non-aesthetics"}, {"id": "stranger"}, {"id": "non-ethics"}, {"id": "primacy"}, {"id": "thought-world"}, {"id": "rule"}, {"id": "democracy"}, {"id": "science-of-men"}, {"id": "non-sufficiency"}, {"id": "hypothesis"}, {"id": "first name"}, {"id": "transcendental axiomatic"}, {"id": "lived experience"}, {"id": "transcendental science"}], "links": [{"source": "desire", "target": "non-psychoanalysis"}, {"source": "desire", "target": "unconscious"}, {"source": "desire", "target": "real"}, {"source": "desire", "target": "mixture"}, {"source": "non-psychoanalysis", "target": "unconscious"}, {"source": "dual", "target": "determination-in-the-last-instance"}, {"source": "dual", "target": "non-philosophy"}, {"source": "dual", "target": "philosophical decision"}, {"source": "dual", "target": "reversibility"}, {"source": "dual", "target": "break"}, {"source": "dual", "target": "mixture"}, {"source": "dual", "target": "world"}, {"source": "dual", "target": "relative autonomy"}, {"source": "dual", "target": "non-sufficiency"}, {"source": "determination-in-the-last-instance", "target": "occasion"}, {"source": "determination-in-the-last-instance", "target": "distance"}, {"source": "determination-in-the-last-instance", "target": "primacy"}, {"source": "determination-in-the-last-instance", "target": "philosophy"}, {"source": "determination-in-the-last-instance", "target": "relative autonomy"}, {"source": "determination-in-the-last-instance", "target": "reversibility"}, {"source": "non-philosophy", "target": "transcendental"}, {"source": "non-philosophy", "target": "science"}, {"source": "non-philosophy", "target": "force (of) thought"}, {"source": "non-philosophy", "target": "non-aesthetics"}, {"source": "non-philosophy", "target": "Other"}, {"source": "non-philosophy", "target": "philosophical decision"}, {"source": "non-philosophy", "target": "philosophy"}, {"source": "non-philosophy", "target": "real"}, {"source": "non-philosophy", "target": "stranger"}, {"source": "non-philosophy", "target": "thought"}, {"source": "non-philosophy", "target": "world"}, {"source": "non-philosophy", "target": "rule"}, {"source": "non-philosophy", "target": "thought-world"}, {"source": "non-philosophy", "target": "non-ethics"}, {"source": "philosophical decision", "target": "mixture"}, {"source": "philosophical decision", "target": "philosophy"}, {"source": "philosophical decision", "target": "transcendental"}, {"source": "philosophical decision", "target": "real"}, {"source": "reversibility", "target": "thought"}, {"source": "reversibility", "target": "mixture"}, {"source": "occasion", "target": "philosophy"}, {"source": "occasion", "target": "relative autonomy"}, {"source": "occasion", "target": "transcendental"}, {"source": "occasion", "target": "real"}, {"source": "occasion", "target": "thought"}, {"source": "occasion", "target": "force (of) thought"}, {"source": "philosophy", "target": "definition"}, {"source": "philosophy", "target": "force (of) thought"}, {"source": "philosophy", "target": "reflection"}, {"source": "philosophy", "target": "thought"}, {"source": "philosophy", "target": "world"}, {"source": "philosophy", "target": "real"}, {"source": "philosophy", "target": "Other"}, {"source": "philosophy", "target": "break"}, {"source": "philosophy", "target": "rule"}, {"source": "philosophy", "target": "thought-world"}, {"source": "relative autonomy", "target": "real"}, {"source": "transcendental", "target": "thought"}, {"source": "transcendental", "target": "real"}, {"source": "transcendental", "target": "force (of) thought"}, {"source": "transcendental", "target": "primacy"}, {"source": "mixture", "target": "thought"}, {"source": "mixture", "target": "Other"}, {"source": "mixture", "target": "multiple"}, {"source": "mixture", "target": "thought-world"}, {"source": "mixture", "target": "first name"}, {"source": "definition", "target": "real"}, {"source": "force (of) thought", "target": "human"}, {"source": "force (of) thought", "target": "reflection"}, {"source": "force (of) thought", "target": "thought"}, {"source": "force (of) thought", "target": "world"}, {"source": "force (of) thought", "target": "multiple"}, {"source": "force (of) thought", "target": "universality"}, {"source": "reflection", "target": "thought"}, {"source": "thought", "target": "real"}, {"source": "thought", "target": "break"}, {"source": "thought", "target": "science"}, {"source": "thought", "target": "given-without-givenness"}, {"source": "thought", "target": "democracy"}, {"source": "thought", "target": "thought-world"}, {"source": "thought", "target": "lived experience"}, {"source": "world", "target": "primacy"}, {"source": "world", "target": "thought-world"}, {"source": "world", "target": "stranger"}, {"source": "world", "target": "transcendental science"}, {"source": "real", "target": "radical immanence"}, {"source": "real", "target": "Other"}, {"source": "real", "target": "primacy"}, {"source": "science", "target": "hypothesis"}, {"source": "human", "target": "science-of-men"}, {"source": "multiple", "target": "Other"}, {"source": "multiple", "target": "universality"}, {"source": "multiple", "target": "stranger"}, {"source": "Other", "target": "non-ethics"}, {"source": "Other", "target": "stranger"}, {"source": "stranger", "target": "democracy"}, {"source": "first name", "target": "transcendental axiomatic"}]}
  let pos = {"desire": [284.15, 102.16], "non-psychoanalysis": [271.12, 18.0], "unconscious": [220.96, 50.023], "dual": [418.06, 164.87], "determination-in-the-last-instance": [424.54, 102.28], "non-philosophy": [352.35, 247.16], "philosophical decision": [336.62, 148.18], "reversibility": [377.23, 146.38], "occasion": [416.03, 187.48], "philosophy": [376.24, 201.28], "relative autonomy": [444.42, 122.21], "transcendental": [349.46, 211.64], "mixture": [312.07, 188.64], "definition": [351.25, 99.137], "force (of) thought": [376.22, 283.64], "reflection": [435.2, 276.63], "thought": [394.31, 247.12], "world": [438.1, 235.86], "real": [338.43, 169.02], "radical immanence": [247.26, 139.39], "break": [472.52, 199.61], "science": [332.13, 322.7], "given-without-givenness": [498.81, 261.91], "distance": [472.45, 36.036], "human": [398.24, 384.86], "multiple": [294.48, 282.71], "Other": [303.65, 236.63], "universality": [294.41, 342.93], "non-aesthetics": [420.81, 326.69], "stranger": [367.24, 308.83], "non-ethics": [255.66, 282.2], "primacy": [398.11, 124.67], "thought-world": [404.43, 211.51], "rule": [276.86, 221.86], "democracy": [457.2, 309.89], "science-of-men": [428.66, 461.46], "non-sufficiency": [510.6, 121.37], "hypothesis": [287.29, 402.21], "first name": [212.87, 188.32], "transcendental axiomatic": [129.34, 190.08], "lived experience": [428.9, 342.76], "transcendental science": [537.19, 244.32]}
  let colors = {"desire": "blue", "non-psychoanalysis": "blue", "unconscious": "blue", "dual": "pink", "determination-in-the-last-instance": "pink", "non-philosophy": "green", "philosophical decision": "gray", "reversibility": "pink", "occasion": "gray", "philosophy": "gray", "relative autonomy": "pink", "transcendental": "gray", "mixture": "purple", "definition": "gray", "force (of) thought": "red", "reflection": "olive", "thought": "olive", "world": "purple", "real": "gray", "radical immanence": "cyan", "break": "pink", "science": "brown", "given-without-givenness": "orange", "distance": "pink", "human": "red", "multiple": "red", "Other": "green", "universality": "red", "non-aesthetics": "green", "stranger": "green", "non-ethics": "green", "primacy": "gray", "thought-world": "purple", "rule": "green", "democracy": "olive", "science-of-men": "red", "non-sufficiency": "pink", "hypothesis": "brown", "first name": "purple", "transcendental axiomatic": "purple", "lived experience": "olive", "transcendental science": "purple"}

  let get_neighbors = (id, g)=>{
    let res = {}
    g.nodes().map(n=>{
      if(colors[n.id] == colors[id]){
        res[n.id] = n
      }
    })
    return res
  }

  graph.nodes.map((a, i)=>{
    a.label = a.id
    a.x = pos[a.id][0]
    a.y = pos[a.id][1]
    a.color = colors[a.id]
    a.size = 1
    S.graph.addNode(a)
  })

  graph.links.map((a, i)=>{
    a.id = i
    a.type = 'line'
    a.color = '#668cff'
    S.graph.addEdge(a)
  })

  S.bind('clickNode', e=>{
    let id = e.data.node.id
    let keep = get_neighbors(id, S.graph)
    keep[id] = e.data.node
  
    S.graph.nodes().forEach(n=>{
      n.color = keep[n.id] ? colors[n.id] : '#eee'
    })
  
    S.graph.edges().forEach(e=>{
      e.color = keep[e.source] && keep[e.target] ? '#668cff' : 'rgba(238, 238, 238, .3)'
    })
  
    S.refresh()
  })

  S.bind('clickStage', e=>{
    if(!e.data.captor.isDragging){
      S.graph.nodes().forEach(n=>{
        n.color = colors[n.id]
      })

      S.graph.edges().forEach(e=>{
        e.color = '#668cff'
      })

      S.refresh()
    }
  })

  S.refresh()
}

bind1(sigmas.fc)
</script>
